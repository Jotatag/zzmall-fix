"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(o){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(o);if(r){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(o){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(o);if(r){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(o){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(o);if(r){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(o){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(o);if(r){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(o){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(o);if(r){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}define("product",["product/view","product/gallery/view","product/reviews/view","product/notify/view","product/stand/view","product/wishGift/view"],function(e,t,n,o,r,i){new e,new t,new n,new o,new r,new i}),define("product/gallery/view",["jquery","underscore","backbone","slick","component/util"],function(r,e,t,n,o){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).loadVideoModule(),e.init(),e.bindZoom(),e}return _createClass(n,[{key:"loadVideoModule",value:function(){document.querySelector(".gallery-video")&&(require(["product/video/view"],function(e){new e}),this.hasVideo=!0)}},{key:"el",get:function(){return"#js-gallery"}},{key:"events",get:function(){return{}}},{key:"bindZoom",value:function(){return;}},{key:"init",value:function(){var e=this,t=this;this.$mainSlider=this.$("#pdp-slider"),this.$thumbSlider=r("#js-pdp-images-preview");function o(e){r(".pdp-images-preview__item").length>e?r(".pdp-images-preview").addClass("pdp-images-preview--blured"):r(".pdp-images-preview").removeClass("pdp-images-preview--blured")}this.$thumbSlider.addClass("initialized"),e.$mainSlider.slick({dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,speed:200,fade:!0,swipeToSlide:!0,asNavFor:"#js-pdp-images-preview"}).on("afterChange",function(){t.bindZoom()}),e.$thumbSlider.slick({vertical:!0,verticalSwiping:!0,arrows:!1,infinite:!0,dotsClass:"product-thumbs",asNavFor:"#pdp-slider",focusOnSelect:!0,slidesToShow:4,slidesToScroll:1,mobileFirst:!0,responsive:[{breakpoint:1367,settings:{slidesToShow:5,slidesToScroll:1}}]}).on("breakpoint",function(e,t,n){o(1367!==n?4:5)})}}]),n}(t.View)}),define("product/notify/view",["jquery","underscore","backbone","validate","placeholder","validationConfig"],function(l,e,t,n,o,r){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).validate(),new o({el:e.$('[data-js="group-notify-size"]')}).placeholder(),new o({el:e.$('[data-js="sch-group-notify-name"]')}).placeholder(),new o({el:e.$('[data-js="sch-group-notify-email"]')}).placeholder(),e}return _createClass(n,[{key:"el",get:function(){return"#js-notify"}},{key:"events",get:function(){return{"submit #js-form":"submitForm","click #js-go-back":"goBack"}}},{key:"validate",value:function(){var n=this;this.$("#js-form").validate(r.getConfig({rules:{shoeSize:{required:!0},customerName:{required:!0},customerEmail:{required:!0,email:!0}},messages:{shoeSize:"Tamanho invÃ¡lido",customerName:"Nome obrigatÃ³rio",customerEmail:"Email obrigatÃ³rio"},submitHandler:function(e,t){n.submitForm(e,t)}})),r.mask.phone(this.$('[name="customerPhone"]'))}},{key:"submitForm",value:function(e,t){t.preventDefault();var n=this,o=l(t.target),r=o.find("#customerNewsletter:checked"),i=o.find("button"),a=o.attr("method"),s=o.attr("action");i.attr("disabled",!0);var c={productCode:o.find("#productCode").val(),shoeSize:o.find("#js-notify-size").val(),customerName:o.find("#customerName").val(),customerEmail:o.find("#customerEmail").val(),newsletter:!!r.length,phoneNumber:o.find("#customerPhone").val(),myStore:""};l.ajax({type:a,url:s,data:JSON.stringify(c),contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("CSRFToken",ACC.config.CSRFToken)}}).done(function(){n.$el.find("#js-notify-form").addClass("none"),n.$el.find("#js-notify-notes").removeClass("none")}).fail(function(e,t){console.log(e,t)}).always(function(){i.attr("disabled",!1)})}},{key:"goBack",value:function(e){e.preventDefault(),this.$el.find("#js-notify-form").removeClass("none"),this.$el.find("#js-notify-notes").addClass("none")}}]),n}(t.View)}),define("product/view",["jquery","underscore","backbone","miniCart","model/minicart/miniCartItem","component/favorite","FrontVendors/Tooltip","component/util","component/CarouselOfProducts","FrontVendors/NativeShare","slick","animatedTabs","arezzoco-common","component/buylook","swiper"],function(g,o,r,e,i,a,s,u,c,t,n,l,d,p,f){var m=t.NativeShare,y=t.haveSupports,h=d.renderModal,v=d.MaxEntries,b=d.RecommendationShelf,_=d.DatalayerService;return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).productCode=e.$el.data("productCode"),e.$('#add-and-go-to-cart [data-js="go-to-cart"]').removeAttr("disabled"),e.favorite=new a,e.bindEvents(),e.bindMoreProductsCarousel(),e.bindMobilePinchZoom(),g(window).resize(),e.tooltip=new s,e.nativeShare(),e.activeShareButton(),e.mountCarouselColor({selector:"#carousel-color-thumb",width:80}),e.mountCarouselColor({selector:"#carousel-color-pallette",width:50}),e.hideSizeOptionsWhenClickOutside(),e.initializeTabs(),e.renderLimitModal(),e.hidePricelessComponents(),new p,e.showFixedButton=!1,e.showFixedButton&&e.bindFixedButton(),e}return _createClass(n,[{key:"el",get:function(){return'[data-js="sch-pdp-page"]'}},{key:"events",get:function(){return{'click [data-js="pdp-select-box__current"]':"toggleSizeOptions",'click [data-js="pdp-select-box__option"]':"toggleActionsComponents",'click [data-js="opened-grid-option"]':"toggleActionsComponents","click .select-box__input":"preventStopPropagation",'click [data-js="helper-unavaiable"]':"showNotify","click .opened-grid-option--unavailable":"showNotify","click #add-and-go-to-cart-button":"addAndGoToCart",'click [data-js="add-to-bag"]':"addToBag"}}},{key:"initRecommendationShelf",value:function(){var e=document.getElementById("recomendation-carousel");if(e){b({elRecomendationCarousel:e,title:"VocÃª tambÃ©m vai adorar",baseSiteId:"marketplacezz",showBrandNames:!0})}}},{key:"renderLimitModal",value:function(){var e=document.getElementById("max-entries-modal");e&&h({elWrapper:e,Children:v,eventControlName:"submitError",id:"render-max-entries-modal",classes:"ty-modal--xsmall"})}},{key:"preventStopPropagation",value:function(e){e.stopPropagation()}},{key:"initializeTabs",value:function(){var e={parentElement:g("#sidebar-tabs")};new l(e);var t={parentElement:g("#pdp-tabs")};new l(t)}},{key:"nativeShare",value:function(){if(!(window.innerWidth>u.breakpoints.tabletLandscape)){var e=document.querySelector("#js-share-button"),t=document.querySelector(".pdp-product-ttl").innerText;if(y())new m(e,{title:t,text:t},null);else;}}},{key:"activeShareButton",value:function(){if(!(window.innerWidth<=u.breakpoints.tabletLandscape)){var e=document.getElementById("js-desktop-share-options"),t=!1,n=function(){return t?(e.classList.remove("is-active"),void(t=!1)):(e.classList.add("is-active"),void(t=!0))};document.getElementById("js-share-button").addEventListener("click",n)}}},{key:"mountCarouselColor",value:function(e){var t=e.selector,n=e.width,o=document.querySelector(t);if(o){o.style.opacity=1;var r=Math.floor(o.offsetWidth/n);if(!(o.querySelector(".swiper-wrapper").children.length<r))new f(o,{slidesPerView:r,slidesToScroll:1,speed:300,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}}},{key:"bindEvents",value:function(){r.Events.on("miniCart:item:add-feedback",o.bind(this.messageAddToBag,this)),window.addEventListener("load",this.initRecommendationShelf())}},{key:"bindMobilePinchZoom",value:function(){var r=this;if(!(window.innerWidth>u.breakpoints.tabletLandscape)){this.shouldRenderNewZoomFragment=!0;var i=1280,a=1400,s="Use os  dois dedos para aumentar e diminuir o zoom",c=g("#pdp-slider .pdp-gallery-item img"),l=0;c.on("click",function(e){var t=Date.now();if(l<t){var o=[];c.each(function(e,t){var n={src:t.dataset.zoomImage,w:i,h:a,title:s};o.push(n)});var n={index:c.index(e.target),items:o,shouldRenderNewZoomFragment:r.shouldRenderNewZoomFragment};require(["component/pinchzoom"],function(e){new e(n),r.shouldRenderNewZoomFragment=!1}),l=t+3e3}})}}},{key:"bindFixedButton",value:function(){if(!(window.innerWidth>=u.breakpoints.tabletLandscape)){var e=g(window).height(),n=g(".form-action-size").offset().top-e+58,o=g(".footer").offset().top-e;g(window).scroll(function(){var e=g('[data-js="go-to-cart"]'),t=g(window).scrollTop();n<t&&t<o?e.is(".fixed")||e.addClass("fixed"):e.removeClass("fixed")})}}},{key:"getSelectedSize",value:function(){return this.$el.find('[data-js="pdp-select-box__input"]:checked').val()||this.$el.find(".opened-grid__input:checked").val()}},{key:"addAndGoToCart",value:function(e){e.preventDefault();var t=g("#add-and-go-to-cart"),n=this.getSelectedSize();if(n&&void 0!==n)t.find("#productCodeSize").val(n),g(e.currentTarget).attr("disabled",!0).addClass("is-loading"),g("#add-and-go-to-cart").submit();else{this.showSizeError();var o=g('[data-js="pdp-select-box__current"]');if(768<window.innerWidth)return;var r=o.offset().top+o.height()-window.innerHeight/2;g("html, body").animate({scrollTop:r},"slow")}}},{key:"showNotify",value:function(){this.$el.find('[data-js="sch-buy-actions"]').addClass("none"),this.$el.find('[data-js="sch-notify"]').removeClass("none")}},{key:"hideSizeOptionsWhenClickOutside",value:function(){g('[data-js="pdp-select-box__current"]').blur(function(){g('[data-js="pdp-select-box__current"]').removeClass("active")})}},{key:"toggleSizeOptions",value:function(e){g(e.currentTarget).toggleClass("active")}},{key:"handlePriceChange",value:function(e,t,n){var o=g('[data-js="pdp-price-now"]'),r=g('[data-js="pdp-price-old"]'),i=g('[data-js="pdp-price-label"]'),a=g('[data-js="pdp-installment-label"]');i&&i.toggleClass("none",!0),r.toggleClass("none",!t),o.toggleClass("ty-price--new",!!t),t?(r.text(e.replace(" ","")),o.text(t.replace(" ",""))):o.text(e.replace(" ","")),a.text(n?"ou ".concat(n," sem juros."):"")}},{key:"toggleActionsComponents",value:function(e){var t,n,o,r=g(e.currentTarget),i=g('[data-js="add-to-bag"]'),a=this.$el.find('[data-js="sch-buy-actions"]'),s=this.$el.find("#js-notify"),c=this.$el.find('[data-js="pdp-select-box__current"]'),l=g("#opened-grid"),u=r.text(),d=(t=r).data("price")||t.find("p").data("price")||"",p=(n=r).data("discount-price")||n.find("p").data("discount-price")||"",f=(o=r).data("installments")||o.find("p").data("installments")||"";this.handlePriceChange(d,p,f),r.find("input").prop("checked",!0);var m=r.hasClass("select-box__option--unavaiable")||r.find(".opened-grid__item").hasClass("opened-grid__item--unavailable"),y=r.hasClass("select-box__option--avaiable")||r.find(".opened-grid__item").hasClass("opened-grid__item--available"),h=g('[data-js="low-stock-message"] p');h.text("");var v=r.hasClass("isInternalBrand")||r.find("p").hasClass("isInternalBrand");if(m)return l.removeClass("error"),a.addClass("none"),v&&s.removeClass("none"),i.prop("disabled",!0),void this.$el.find("#js-notify-size").val(u);if(y&&(a.removeClass("none"),s.addClass("none"),c.removeClass("error"),l.removeClass("error"),i.prop("disabled",!1),r.find("p").data("is-low-stock"))){var b=r.find("p").data("stock-message");h.text(b)}}},{key:"showSizeError",value:function(){var e=g('[data-js="pdp-select-box__current"]');this.$el.find(e).addClass("error"),g("#opened-grid").addClass("error")}},{key:"formatDate",value:function(e){var t=e.slice(-4),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(e.substr(4,3))+1;return e.substr(8,2)+"/"+(n<10?"0":"")+n+"/"+t}},{key:"addToBag",value:function(e){e.preventDefault();var t=g(e.currentTarget);t.prop("disabled",!0);var n=this.getSelectedSize();if(!n)return this.showSizeError(),void t.prop("disabled",!1);var o=new i({codeAndSize:n});r.Events.trigger("miniCart:item:add",o),t.prop("disabled",!1),this.pushDataLayerAddCart()}},{key:"messageAddToBag",value:function(){var e=this.$el.find('[data-js="add-to-bag"]');e.prop("disabled",!1),window.innerWidth>u.breakpoints.tabletLandscape||(e.addClass("active-bag"),e.contents()[0].textContent="Adicionado",setTimeout(function(){e.removeClass("active-bag"),e.prop("disabled",!1),e.contents()[0].textContent="Adicionar"},2e3))}},{key:"bindMoreProductsCarousel",value:function(){c()}},{key:"pushDataLayerAddCart",value:function(){var e=this.getProductSku(),t=this.getName(),n=this.getCategoryByUrl(),o=this.getProductVariant(),r={event:"addToCart",ecommerce:{currencyCode:"BRL",add:{products:[{brand:"ZZ MALL",category:n,id:e,name:t,price:this.getPrice().replace("R$","").replace(",","."),quantity:1,variant:o}]}}};_.push(r)}},{key:"getPrice",value:function(){var e=document.querySelector('[data-js="pdp-price-now"]');return e?e.innerHTML:""}},{key:"getName",value:function(){var e=document.getElementById("productName");return e?e.value:""}},{key:"getProductSku",value:function(){var e=document.getElementById("productSku");return e?e.value:""}},{key:"getCodeAndSize",value:function(){var e=document.querySelector('input[name="pdp-size"]:checked');return e?e.value:""}},{key:"getProductVariant",value:function(){var e=this.getProductSku();return this.getCodeAndSize().replace(e,"").replace("-","")}},{key:"getCategoryByUrl",value:function(){var e=window.location.pathname.split("/"),t=e.length,n=0;if(!(t<=3))for(var o=t-1;0<=o;--o){if(3===n)return e[o];n+=1}}},{key:"hidePricelessComponents",value:function(){var e=document.getElementsByClassName("ty-product-cashback-message")[0];"Receba atÃ© R$ 0,00 de volta"===e.innerText&&e.setAttribute("style","display: none")}}]),n}(r.View)}),define("product/reviews/view",["jquery","underscore","backbone"],function(e,t,n){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"el",get:function(){return'[data-js="sch-reviews"]'}},{key:"events",get:function(){return{'click [data-js="see-more-reviews"]':"seeMoreReviews"}}},{key:"seeMoreReviews",value:function(){var e=parseInt(this.$el.data("reviewsLength")),t=parseInt(this.$el.data("loadLength"));this.$el.find(".sch-rvw.none").slice(0,t).addClass("visible").removeClass("none"),this.$el.find(".sch-rvw.visible").length===e&&(this.$el.find(".sch-reviews-more button").addClass("none"),this.$el.find(".sch-reviews-more span").removeClass("none"))}}]),n}(n.View)}),define("product/stand/view",["jquery","underscore","backbone","component/favorite"],function(e,t,n,o){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"el",get:function(){return'[data-js="stand-item"]'}}]),n}(n.View)}),define("product/video/view",["jquery","backbone","component/youtube","component/vimeo"],function(e,t,n,o){return t.View.extend({initialize:function(){if(new o,this.elVideoThumb=document.querySelector('[data-js="product-thumb-video"]'),this.elVideoThumb){var e=this.elVideoThumb.dataset.videoUrl;this.video={id:this.extractVideoId(e),url:e,player:{}},this.intervalPlayer,this.isPlaying=!1,this.setVideoThumbnail(),this.setVideoElement(),document.querySelector(".gallery-video-iframe-handler").addEventListener("click",this.toggleVideo())}},toggleVideo:function(){var t=this;return function(){var e=t.video.player.player;t.isPlaying?e.pauseVideo():e.playVideo(),t.isPlaying=!t.isPlaying}},setVideoThumbnail:function(){var t=this;this.elVideoThumb&&(this.elVideoThumb=document.querySelectorAll('[data-js="product-thumb-video"]'),this.elVideoThumb.forEach(function(e){e.firstElementChild.setAttribute("src","https://img.youtube.com/vi/".concat(t.video.id,"/mqdefault.jpg"))}))},setVideoElement:function(){this.isPlaying||(this.video.player=new n(e(".gallery-video-iframe"),{videoId:this.video.id,playerVars:_objectSpread({playlist:this.video.id,controls:0,showinfo:0,rel:0,fs:0,loop:1,modestbranding:1,playsinline:1},config)},!0))},extractVideoId:function(e){try{return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i).toString():e}catch(e){console.error("VideoPDP: URL do vÃ­deo invÃ¡lida")}}})}),define("product/wishGift/view",["jquery"],function(e){return function(){function e(){_classCallCheck(this,e),this.acceptNews=!0,this.objDevelopment={brand:"ZZ MALL",campaign:"peca_presente_zzmall",urlShoe:window.location.href,isShoes:/sapatos/.test(window.location.href),isMobile:/Mobile/i.test(navigator.userAgent),msgStart:"",timer:3e3,urlApi:this.getUrlApi(),urlApiWhatsApp:"https://api.whatsapp.com/send"},this.objDevelopment.isMobile||(this.objDevelopment.urlApiWhatsApp="https://web.whatsapp.com/send"),this.objDevelopment.msgStart="Estava olhando o site do ".concat(this.objDevelopment.brand," e encontrei o produto perfeito para vocÃª me presentear! Olha sÃ³ ").concat(this.objDevelopment.urlShoe,"... EntÃ£o, fica a dica! Beijo com carinho!ðŸ˜˜"),this.renderModal(),this.addListenersOnRenderModal()}return _createClass(e,[{key:"addListenersOnRenderModal",value:function(){var e=this,t=document.getElementById("modal-wishgift__form"),n=document.getElementById("modal-wishgift__phoneNumberLove"),o=document.getElementById("modal-wishgift__numero"),r=document.getElementById("accept-leads");n.addEventListener("keyup",function(){return e.addPrefixBrasil()}),r.addEventListener("click",function(){return e.verifyCheckBox()}),t.addEventListener("submit",function(){return e.sendApiArezzo()}),o&&o.addEventListener("click",function(){return e.insertSizeTextarea()})}},{key:"getUrlApi",value:function(){return ACC.env.isProduction?"https://www.zzmall.com.br/arezzoapi/email-extended-attributes/save":"https://preprod.zzmall.com.br/arezzoapi/email-extended-attributes/save"}},{key:"sendApiArezzo",value:function(){var e=this.objDevelopment.urlApi,t=this.objDevelopment.campaign;document.getElementById("button-send-whats").disabled=!0;var n=document.getElementById("modal-wishgift__name").value,o=document.getElementById("modal-wishgift__email").value,r=document.getElementById("modal-wishgift__phoneNumber").value,i="";document.querySelector(".modal-wishgift__ul input:checked")&&(i=document.querySelector(".modal-wishgift__ul input:checked").value||"");var a=new XMLHttpRequest;return a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/json; charset=utf-8"),a.onload=function(e){return 200===a.status&&4===a.readyState||console.log("ERROR: Exception raised",e)},a.send(JSON.stringify({name:n,email:o,phoneNumber:r,shoeSize:i,campaignName:t,acceptNews:this.acceptNews})),this.rederSuccessMessage(),!0}},{key:"addPrefixBrasil",value:function(){var e=document.getElementById("modal-wishgift__phoneNumberLove").value;document.getElementById("modal-wishgift__phoneNumberLoveHidden").value="55".concat(e.replace(/[\(\)\.\s-]+/g,""))}},{key:"insertSizeTextarea",value:function(){var e=document.getElementById("modal-wishgift__texto"),t=this.objDevelopment.msgStart.split("..."),n=document.querySelector(".modal-wishgift__ul input:checked").value;t[0]+="... EntÃ£o, fica a dica! NÃ£o esquece que o meu nÃºmero Ã© ".concat(n,". Beijo com carinho!ðŸ˜˜"),e.innerHTML=[t[0]]}},{key:"rederSuccessMessage",value:function(){var e=this;setTimeout(function(){document.querySelector(".modal-wishgift__content").innerHTML='\n            <div class="modal-wishgift__content">\n              <div class="modal-wishgift__success">\n                <h2 class="ty-title"><b>Mensagem enviada!</b></h2>\n\n                <span class="ty-icon ty-icon--like"></span>\n\n                <p class="ty-paragraph ty-paragraph--large">\n                  Ficamos muito felizes que vocÃª gostou desse modelo e estamos torcendo para vocÃª ganhar de presente.\n                </p>\n\n                <p class="ty-paragraph ty-paragraph--large">\n                  Aproveite para seguir nossas redes sociais e ficar por dentro de todas as novidades.\n                </p>\n\n                <div class="modal-wishgift__icons">\n                  <a href="https://facebook.com/zzmalloficial" class="ty-icon icon-facebook" target="_blank" title="Facebook - ZZMall"></a>\n                  <a href="https://instagram.com/zz.mall" class="ty-icon icon-instagram" target="_blank" title="Instagram - ZZMall"></a>\n                </div>\n\n                <label for="open-modal-wishgift" class="ty-button ty-button--bordered ty-button--large"">Continue navegando</button>\n              </div>\n            </div>',document.querySelector(".modal-wishgift__content").classList.add("modal-wishgift__content--success"),e.addListenerCloseModal()},this.objDevelopment.timer)}},{key:"verifyCheckBox",value:function(){document.getElementById("accept-leads").checked?this.acceptNews=!0:this.acceptNews=!1}},{key:"maskPhone",value:function(){for(var e=document.querySelectorAll(".maskNumber"),t=0;t<e.length;t+=1)e[t].addEventListener("input",function(e){var t=e.target.value.replace(/\D/g,"").match(/(\d{0,2})(\d{0,5})(\d{0,4})/);e.target.value=t[2]?"("+t[1]+") "+t[2]+(t[3]?"-"+t[3]:""):t[1]})}},{key:"constructOptionsSize",value:function(){var t="";if(this.objDevelopment.isShoes){var e=Array.from({length:8},function(e,t){return t+33});t+='<p class="ty-paragraph"> Selecione sua numeraÃ§Ã£o* </p>\n                         <ul id="modal-wishgift__numero" class="modal-wishgift__ul">',e.forEach(function(e){t+='<li><input name="size" type="radio" value="'.concat(e,'" id="size-').concat(e,'" /><label class="modal-wishgift__number" for="size-').concat(e,'"> ').concat(e," </label></li>")}),t+="</ul>"}return t}},{key:"renderModal",value:function(){document.getElementById("modal-wishgift").insertAdjacentHTML("beforeend",'\n          <div class="modal-wishgift__content">\n            <h2 class="ty-title ty-title--large">NÃ³s amamos <br/> <b>a sua escolha</b></h2>\n            <p class="ty-paragraph ty-paragraph--large">Preenha os campos abaixo e envie essa dica de presente especial</p>\n            '.concat(this.renderForm(),"\n          </div>\n        ")),this.maskPhone()}},{key:"renderForm",value:function(){return'<form id="modal-wishgift__form" class="modal-wishgift__form" action="'.concat(this.objDevelopment.urlApiWhatsApp,'" target="_bank">\n            <input name="nome" id="modal-wishgift__name" class="ty-input ty-input--large" placeholder="Seu nome*" type="text" required oninvalid="setCustomValidity(\'Informe seu nome\')" oninput="setCustomValidity(\'\')" x-moz-errormessage="Informe seu nome" />\n            ').concat(this.constructOptionsSize(),'\n            <input name="email" id="modal-wishgift__email" class="ty-input ty-input--large" placeholder="Seu e-mail*" type="email" required oninvalid="setCustomValidity(\'Informe seu e-mail\')" oninput="setCustomValidity(\'\')" x-moz-errormessage="Informe seu e-mail" />\n            <input id="modal-wishgift__phoneNumber" class="ty-input ty-input--large maskNumber" placeholder="Seu telefone*" type="tel" pattern=".{14,15}" length="15" minlength="14" required oninvalid="setCustomValidity(\'Informe seu telefone\')" oninput="setCustomValidity(\'\')" x-moz-errormessage="Informe seu telefone"  />\n            <input id="modal-wishgift__phoneNumberLove" class="ty-input ty-input--large maskNumber" placeholder="Telefone de quem vai presentear vocÃª*" type="tel" pattern=".{14,15}" length="15" minlength="14" required oninvalid="setCustomValidity(\'Informe o telefone do seu amor\')" oninput="setCustomValidity(\'\')" x-moz-errormessage="Informe o telefone do seu amor" />\n            <input id="modal-wishgift__phoneNumberLoveHidden" visibilit name="phone" type="hidden" />\n            <p class="ty-paragraph">VocÃª pode editar antes de enviar*</p>\n            <textarea rows="8" id="modal-wishgift__texto" name="text" class="modal-wishgift__textarea ty-input ty-input--large">').concat(this.objDevelopment.msgStart,'</textarea>\n            <div class="modal-wishgift__custom-radio">\n              <input class="rd" id="accept-leads" type="checkbox" name="accept-leads" checked>\n              <label for="accept-leads" class="rd-lbl ty-paragraph">Aceito receber newsletter e SMS do ').concat(this.objDevelopment.brand,'.</label>\n            </div>\n            <div class="modal-wishgift__actions">\n              <button id="button-send-whats" class="ty-button ty-button--large ty-button--full ty-button--quartenary mt-1" type="submit">\n                Compartilhe no Whatsapp <i class="ty-icon ty-icon--whatsapp"></i>\n              </button>\n            </div>\n          </form>')}}]),e}()});
//# sourceMappingURL=product-marketplacezz-2022-26-hotfix-4-version.min.js.map